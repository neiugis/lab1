<!DOCTYPE html>
<!-- saved from url=(0052)https://guides.github.com/introduction/git-handbook/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <title>Lab 1</title>
  <!-- <link rel="icon" type="image/x-icon" href="https://guides.github.com/favicon.ico"> -->

  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link rel="stylesheet" href="gridism.css">
  <link rel="stylesheet" href="markdown.css">
  <link rel="stylesheet" href="octicons.css">
  <link href="main.css" rel="stylesheet">
  <link href="pygments.css" rel="stylesheet">

  <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="prism.css" rel="stylesheet" />

  <script type="text/javascript" async="" src="ga.js"></script><script src="jquery.js" type="text/javascript"></script>
  <script src="snap.svg-min.js" type="text/javascript"></script>
  <script src="application.js" type="text/javascript"></script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3769691-29']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</head>
<body style="background-color:#660066">

  <article class="full">
  <div class="article-heading js-article-heading js-geopattern" style="background-color:#660066">
    <div class="wrap">
      <h1>Lab 1. Basemaps & Zoom Level   <i class="fa fa-leaf"></i></h1>
      <p style="color:#FFC300"><b><i class="fa fa-spinner fa-spin"></i>  Due: 11:59 pm, Wednesday, 9/12</b></p>
    </div>
  </div>

  <div class="wrap">

    <div class="toc-wrapper" >
      <ol class="toc js-toc sticky" >
        
      </ol>
    </div>

    <div class="markdown-body content-body">

      <p><a id="overview" title="Overview" class="toc-item"></a></p>
      <h3><i class="fa fa-paint-brush"></i> Overview</h3>
        <p><i class="fa fa-spinner fa-spin"></i>  Please follow the instructions carefully (including the explanation of each step) and complete the assignment in the <a href="#deliverable">Deliverables</a> section at the bottom. </p>
        <p><i class="fa fa-spinner fa-spin"></i>  In this lab, we will get started with Leaflet (<a href="https://leafletjs.com/" target = "_blank">https://leafletjs.com/</a>) and add tile layers as <b>basemaps</b>. Leaflet is a popular open-source JavaScript library for making interactive maps.</p>
        <p><i class="fa fa-spinner fa-spin"></i>  We will also explore the use of map scale (e.g., <b>zoom level</b>) in web mapping. </p>
       

      <p><a id="prep" title="Preparation Steps" class="toc-item"></a></p>
      <h3><i class="fa fa-paint-brush"></i> Preparation Steps</h3>
       <p>Before start, you may want to create a <b>new file folder</b> for this lab where you could save the html, css and javascript files later.</p>
       <ul>
           <li>Open your <b>code editor</b> (e.g., <b>Atom</b>) and add the following lines to prepare your page (you may copy and paste). 
       Please take some time to <b>go over these basic html tags in the HTML tutorial</b>  (<a href="https://www.w3schools.com/tags/default.asp" target = "_blank">https://www.w3schools.com/tags/default.asp</a>) before continue, or you may not be able to understand the following steps.<br> Indentations of HTML tags do not affect how your page looks, but it helps us better organize the documents. <br>
       <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;title&gt;My map&lt;/title&gt;

  &lt;/head&gt;

  &lt;body&gt;

  &lt;/body&gt;
&lt;/html&gt;</code></pre>
               

           </li>
       <li>Save the document as <code>map1.html</code> to the folder you have created. This will create a blank web page. Note you will need to <b>specify the file extension as .html</b> to make it work. </li><br>

<p>Now we will include the Leaflet CSS and JavaScript in the html document so that we could use Leaflet styles and functions for interactive mapping. Instead of downloading the .css and .js files, we will use hosted versions of Leaflet to access its latest release. </p>
           
        <li>In the <code>head</code> section of your html document, include the following line to link to the Leaflet CSS file:
                   <pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/leaflet@1.3.4/dist/leaflet.css&quot;
   integrity=&quot;sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==&quot;
   crossorigin=&quot;&quot;/&gt;</code></pre>
           </li>

           <li>Also link to the Leaflet JavaScript file in the <code>head</code> section. Make sure you put this AFTER Leaflet's CSS:
       <pre><code class="language-html">&lt;script src=&quot;https://unpkg.com/leaflet@1.3.4/dist/leaflet.js&quot;
   integrity=&quot;sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==&quot;
   crossorigin=&quot;&quot;&gt;&lt;/script&gt;</code></pre></li>
           </ul>
        <p>Your <code>map1.html</code> is still <b>blank</b> at this point as we haven't created any content.</p>
       

<p><a id="map" title="Set up the Map" class="toc-item"></a></p>
 <h3><i class="fa fa-paint-brush"></i> Set up the base map</h3>      
    <p>Now you’re ready to set up the map.</p>
       <ul>
                      <li>In the <code>body</code> section, include a <code>div</code> element where you want your map to be. The <code>&lt;div&gt;</code> tag (<a href="https://www.w3schools.com/tags/tag_div.asp">https://www.w3schools.com/tags/tag_div.asp</a>) defines a division or a section in an HTML document. We use it to define a placeholder for adding the map later. 
               <pre><code class="language-html">&lt;div id=&quot;mymap&quot; style=&quot;height: 500px&quot;&gt;&lt;/div&gt;</code></pre>
               
           Note we also need to assign it an id and define its height (<b>px</b> stands for pixel). Both <code>id</code> and <code>style</code> are HTML attributes (see a complete list of HTML attributes at: <a href ="https://www.w3schools.com/tags/ref_standardattributes.asp">https://www.w3schools.com/tags/ref_standardattributes.asp</a>). You may want to bookmark this link for future reference.</li>

           <li>Also in the <code>body</code> section, include the <code>script</code> element AFTER the <code>div</code> element:
           <pre><code class="language-html">&lt;script type=&quot;text/javascript&quot;&gt;

&lt;/script&gt;</code></pre>
               
           <p>The <code>script</code> section here will contain detailed scripting statements for creating the map. <b>Therefore, all code lines related to defining the map should be placed in the <code>script</code> section</b> of the html document.</p></li>
           
           <li>First, we will initialize the map using the <code>L.map()</code> function of Leaflet. In this example, we will map the <b>contiguous 48 states of the U.S.</b> <br>Place the line below in the <code>script</code> section. Again, indentations do not matter, but they help make things clear.
               <pre><code class="language-javascript">var map = L.map('mymap', {
    center: [37.8, -96],
    zoom: 4
});</code></pre>
               
               These may look a bit tricky, so let's take a closer look:
                <ul>
                    <li>Leaflet offers a wide range of fuctions related to interactive mapping. The <code>L.map()</code>, for example, is used to initialize a map here on the <code><span style="color:#690">'mymap'</span></code> div (Recall that we assigned "mymap" as the id for the div where we wanted to put the map). </li>
                    
                    <li>We also defined the <code><span style="color:#000; font-weight:bold">center</span></code> in the form of [<code>latitude</code>, <code>longitude</code>]. Here, we used <code>[37.8, -96]</code> as an approximate center of the United States. Note you may adjust the number of digits for the lat/lon, depending on the scale of your map.</li>
                    
                    <li>Leaflet also works with <b>zoom levels</b> for scale setup: Interactive, tiled maps are designed and rendered at a number of different scales. A zoom level is a predefined scale at which a map is rendered. OpenStreetMap, Google Maps, and most other online maps zoom levels are scaled such that the entire world fills a 256x256 pixel tile at <b>zoom level 0</b>, and doubles in width and height at each subsequent zoom level. <br><i>For example:</i> at <b>zoom level 6</b> you get a full view of a medium-sized country. At zoom level 11 you’re looking at a metropolitan-region-sized area. At <b>zoom level 16</b> you’re down to a neighborhood scale (according to <a href="https://www.mapbox.com/tilemill/docs/manual/basics/" target="_blank">Mapbox</a>). To read more, here is a short article on zoom levels from Leaflet (read <a href="https://leafletjs.com/examples/zoom-levels/" target="_blank">here</a>)</li>   
                    
                 </ul></li>     
           <li>Now, you might be wondering if there is an easier way to figure out the center lat/lon and zoom level of a map. The answer is YES! </li>     
       </ul>
           <br><p>With Leaflet, we can add tile layers as base map.
       A <strong>tile layer</strong> is a set of web-accessible tiles that reside on a server. Access to the appropriate tiles in the tile layer depends on the URL to the tile layer. The URL contains parameterized values, which are used by the map viewer to dynamically request the tiles that correspond with the extent and scale of the web map as you pan and zoom (ESRI).</p>
       <br><p>Specifically, we can use tiles by a URL structure with variables representing the consistent position of the level, row, and column. For example, when using a tiled layer in Leaflet, you must provide a URL in the form<br> <code>http://{s}.somedomain.com/blabla/{z}/{x}/{y}.png</code>, where z is the zoom level and x and y are the column and row.
         <br>For published tile maps, examples of URL templates are usually provided. Below is the information from the <a href="http://maps.stamen.com/#watercolor/12/37.7706/-122.3782" target="_blank">Stamen Maps</a>' website:</p>
         <img src="img/url_stamen.png">
       <ul>
               <li>Next we will add a tile layer from Stamen Toner. <code>L.tileLayer()</code> is used to load tile maps. <code>addTo()</code> will add the tiles to the map, which are used as basemaps.  In addition to the <a href="http://leafletjs.com/reference.html#url-template" target="_blank"><b>URL template</b>, </a> the <b>attribution</b> text and the maximum zoom level of the layer are also defined below:
                   <pre><code class="language-javascript">L.tileLayer('http://tile.stamen.com/toner/{z}/{x}/{y}.png', {
  attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',
  maxZoom: 12
}).addTo(map);</code></pre>
                  
           Appropriate copyright <b>attribution</b> is usually required by the layer providers. You should be able to find official guidance on their website. Note the attribution text is surrounded by quotation marks.<br>
           You can also define the minimum zoom level of the tiles with <code>minZoom</code>. If you want to learn more about the different options, read the <a href="http://leafletjs.com/reference.html" target="_blank">Leaflet reference  </a>.
           <br><br>
         If you have followed along, your map should look like below (No? Take a look at the <a href="map/basemap.txt" target="_blank">sample code</a>)
         <iframe src="map/basemap.html" width=100% height=520 frameborder=0></iframe><br><br>

         </li></ul><br><br>





    <p><a id="deliverable" title="Deliverbles" class="toc-item"></a></p>
    <h2><i class="fa fa-map"></i>Deliverables</h2>
      <p>Please turn in <b>a separate html file for each question</b> below via Dropbox on D2L. There will be <b>FOUR</b> in total. You don't have to turn in the leaflet files as I will have them on my computer.</p>
      <ul>
      <li><b>Question 1:</b> Submit the html file you have just completed by following along the instructions (7 pts).</li>
      <li><b>Question 2:</b> Save the html file as <code>chicago.html</code>. Modify the code to show <b>Chicago</b> at an appropriate geographical coordinates (<i>Hint: use Google Map to figure out the lat and long</i>) and zoom level (<i>Hint: try a couple different zoom levels and pick the one that works the best</i>) (6 pts). </li>
      <li><b>Question 3:</b> Save the html file as <code>stamen.html</code>. Modify the code to use <b>a different basemap from Stamen</b>, e.g., terrain or watercolor (<i>Hint: refer to the url templates provided in the instructions above</i>). Then, change the location and/or zoom level to show <b>another place</b> other than Chicago or the US (6 pts). </li>
      <li><b>Question 4:</b> Save the html file as <code>basemap.html</code>. Modify the code to use <b>a basemap from Mapbox <a href="hint/mapbox.html" target="_blank">(How?)</a></b>. Then, change the location and/or zoom level to show <b>another place</b> (6 pts).</li>
      </ul>

  </div>
</article>


  <footer>
    <div class="wrap">

      <p>Copyright &copy; Ting Liu 2018</p>
    </div>
  </footer>

<script src="prism.js"></script>

</body></html>
